
<!DOCTYPE html>
<html>
<head>
    <title>EDITANDO Fechamento de Caixa</title>
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='bo otstrap.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   
</head>

<body>
    {% for message in get_flashed_messages() %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    <script src="{{ url_for('static', filename='js.js' )}}"></script>

<div class="floating-form">
        <h3>--- EDITANDO --- RESUMO DIÁRIO DO CAIXA</h3>
    <form method="post" action="/atualizar" >
        <fieldset>
            <input type="hidden" name="id" id="id" value="{{ caixa.id }}">
            <h4>--- EDITANDO --- RESUMO DE VENDAS</h4>
            <input type="date" name="data" id="data" required value="{{ caixa.data }}">
            <table>
                <tr class="caixa">
                    <td><label for="caixa1">Caixa nº.</label></td>
                    <td><input type="number" id="caixa1" name="caixa1" value="{{ caixa.caixa1 }}" required></td>
                    <td><input type="number" id="caixa2" name="caixa2" value="{{ caixa.caixa2 }}"></td>
                    <td><input type="number" id="caixa3" name="caixa3" value="{{ caixa.caixa3 }}"></td>
                    <td><input type="number" id="caixa4" name="caixa4" value="{{ caixa.caixa4 }}"></td>
                    <td style="text-align: center;">TOTAL</td>
                </tr>
                <tr>
                    <td><label for="dinheiro1">Dinheiro</label></td>
                    <td><input type="number" step="0.01" min="0" class="coluna1" placeholder="0.00" id="dinheiro1" name="dinheiro1" oninput="atualizarTotal1(); atualizarTotalDinheiro(); calcularResultado1()" value="{{ caixa.dinheiro1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="coluna3" placeholder="0.00" id="dinheiro2" name="dinheiro2" oninput="atualizarTotal2(); atualizarTotalDinheiro(); calcularResultado2()" value="{{ caixa.dinheiro2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="coluna4" placeholder="0.00" id="dinheiro3" name="dinheiro3" oninput="atualizarTotal3(); atualizarTotalDinheiro(); calcularResultado3()" value="{{ caixa.dinheiro3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="coluna4" placeholder="0.00" id="dinheiro4" name="dinheiro4" oninput="atualizarTotal4(); atualizarTotalDinheiro(); calcularResultado4()" value="{{ caixa.dinheiro4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="coluna5" placeholder="0.00" id="dinheiro_total" name="dinheiro_total" value="{{ dinheiro_total }}" readonly></td> 
                </tr>
                <tr>
                    <td><label for="cartao_cred1">CARTÃO CRED</label></td>
                    <td><input type="number" step="0.01" min="0" class="" placeholder="0.00" id="cartao_cred1" name="cartao_cred1" oninput="atualizarTotal1(); atualizarTotalCartaoCred()" value="{{ caixa.cartao_cred1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="" placeholder="0.00" id="cartao_cred2" name="cartao_cred2" oninput="atualizarTotal2(); atualizarTotalCartaoCred()" value="{{ caixa.cartao_cred2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="" placeholder="0.00" id="cartao_cred3" name="cartao_cred3" oninput="atualizarTotal3(); atualizarTotalCartaoCred()" value="{{ caixa.cartao_cred3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="" placeholder="0.00" id="cartao_cred4" name="cartao_cred4" oninput="atualizarTotal4(); atualizarTotalCartaoCred()" value="{{ caixa.cartao_cred4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="" placeholder="0.00" id="cartao_cred_total" name="cartao_cred_total" readonly></td>
                </tr>                
                <tr>
                    <td><label for="cartao_deb1">CARTÃO DEB</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cartao_deb1" id="cartao_deb1" oninput="atualizarTotal1(); atualizarTotalCartaoDeb()" value="{{ caixa.cartao_deb1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cartao_deb2" id="cartao_deb2" oninput="atualizarTotal2();  atualizarTotalCartaoDeb()" value="{{ caixa.cartao_deb2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cartao_deb3" id="cartao_deb3" oninput="atualizarTotal3();  atualizarTotalCartaoDeb()" value="{{ caixa.cartao_deb3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cartao_deb4" id="cartao_deb4" oninput="atualizarTotal4();  atualizarTotalCartaoDeb()" value="{{ caixa.cartao_deb4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cartao_deb_total" id="cartao_deb_total" readonly></td>
                </tr>
                <tr>
                    <td><label for="pix1">PIX</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="pix1" id="pix1" oninput="atualizarTotal1(); atualizarTotalPix()" value="{{ caixa.pix1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="pix2" id="pix2" oninput="atualizarTotal2(); atualizarTotalPix()" value="{{ caixa.pix2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="pix3" id="pix3" oninput="atualizarTotal3(); atualizarTotalPix()" value="{{ caixa.pix3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="pix4" id="pix4" oninput="atualizarTotal4(); atualizarTotalPix()" value="{{ caixa.pix4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="pix_total" id="pix_total" readonly></td>
                </tr>
                <tr>
                    <td><label for="cheque1">CHEQUE</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cheque1" id="cheque1" oninput="atualizarTotal1(); atualizarTotalCheque()" value="{{ caixa.cheque1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cheque2" id="cheque2" oninput="atualizarTotal2(); atualizarTotalCheque()" value="{{ caixa.cheque2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cheque3" id="cheque3" oninput="atualizarTotal3(); atualizarTotalCheque()" value="{{ caixa.cheque3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cheque4" id="cheque4" oninput="atualizarTotal4(); atualizarTotalCheque()" value="{{ caixa.cheque4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="cheque_total" id="cheque_total" readonly></td>
                </tr>
                <tr class="destaque">
                    <td><label class="destaque" for="total1">TOTAL</label></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="total1" id="total1" oninput="atualizarTotalTotal()" value="{{ caixa.total1 }}" readonly></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="total2" id="total2" oninput="atualizarTotalTotal()" value="{{ caixa.total2 }}" readonly></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="total3" id="total3" oninput="atualizarTotalTotal()" value="{{ caixa.total3 }}" readonly></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="total4" id="total4" oninput="atualizarTotalTotal()" value="{{ caixa.total4 }}" readonly></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="total_total" id="total_total" readonly required></td>
                </tr>
            </table>
            <hr>
            <table>
                <tr>
                    <td><label for="malote1">Dinheiro Malote</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="malote1" id="malote1" oninput="atualizarTotalMalotes(); calcularResultado1()" value="{{ caixa.malote1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="malote2" id="malote2" oninput="atualizarTotalMalotes(); calcularResultado2()" value="{{ caixa.malote2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="malote3" id="malote3" oninput="atualizarTotalMalotes(); calcularResultado3()" value="{{ caixa.malote3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="malote4" id="malote4" oninput="atualizarTotalMalotes(); calcularResultado4()" value="{{ caixa.malote4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="malote_total" id="malote_total" readonly></td>                 
                </tr>
                <tr class="sangria">
                    <td><label for="sangria1">Sangria</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="sangria1" id="sangria1" oninput="atualizarTotalSangria(); calcularResultado1()" value="{{ caixa.sangria1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="sangria2" id="sangria2" oninput="atualizarTotalSangria(); calcularResultado2()" value="{{ caixa.sangria2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="sangria3" id="sangria3" oninput="atualizarTotalSangria(); calcularResultado3()" value="{{ caixa.sangria3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="sangria4" id="sangria4" oninput="atualizarTotalSangria(); calcularResultado4()" value="{{ caixa.sangria4 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="sangria_total" id="sangria_total"></td>
                </tr>
                <tr class="destaque">
                    <td><label class="destaque" for="resultado1">Resultado</label></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="resultado1" id="resultado1" readonly value="{{ caixa.resultado1 }}"></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="resultado2" id="resultado2" readonly value="{{ caixa.resultado2 }}"></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="resultado3" id="resultado3" readonly value="{{ caixa.resultado3 }}"></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="resultado4" id="resultado4" readonly value="{{ caixa.resultado4 }}"></td>
                    <td><input class="destaque" type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="resultado_total" id="resultado_total" readonly required></td>
                </tr>
            </table>         
            <hr>
            <table>
                <td><label for="qtd_vendas">Quant. de Vendas</label></td>
                <td><input type="number" name="qtd_vendas" id="qtd_vendas" oninput="atualizarTicketMedio()" value="{{ caixa.qtd_vendas }}"></td>
            
                <td><label for="tkt_medio">Ticket Médio</label></td>
                <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="tkt_medio" id="tkt_medio" readonly value="{{ caixa.tkt_medio }}"></td>
            </table>
            <hr>
            <table>
                <tr>
                    <td><label for="servicos1">Serviços</label></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="servicos1" id="servicos1" oninput="atualizarTotalServicos()" value="{{ caixa.servicos1 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="servicos2" id="servicos2" oninput="atualizarTotalServicos()" value="{{ caixa.servicos2 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="servicos3" id="servicos3" oninput="atualizarTotalServicos()" value="{{ caixa.servicos3 }}"></td>
                    <td><input type="number" step="0.01" min="0" class="form-control" placeholder="0.00" name="servicos4" id="servicos4" oninput="atualizarTotalServicos()" value="{{ caixa.servicos4 }}"></td>
                    <td class="destaque"><input type="number" step="0.01" min="0" class="form-control destaque" placeholder="0.00" name="servicos_total" id="servicos_total"></td>
                </tr>   
            </table>   
            <div style="text-align: right;">                
                <a href="{{ url_for('index') }}"><button class="voltar" type="button">Voltar</button></a>
                <button type="button" onclick="calcular(); calcularResultadoTotal(); atualizarTotalTotal(); atualizarTotalDinheiro()">Calcular</button>
                <button class="salvar" type="submit">Salvar</button>
            </div>
        </fieldset>
    </form>
</div>